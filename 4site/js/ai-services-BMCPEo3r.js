function e(e,t){const{markdown:n,metadata:a}=e,o=`site_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=function(e){return{library:"documentation",application:"application",tool:"tool",framework:"documentation",other:"simple"}[e]||"simple"}(a.projectType),i=a.primaryColor||function(e){const t=["#3B82F6","#8B5CF6","#EF4444","#10B981","#F59E0B","#EC4899"],n=e.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0);return t[Math.abs(n)%t.length]}(a.title),{owner:s,repo:c}=function(e){try{const t=new URL(e).pathname.split("/").filter(Boolean);return{owner:t[0]||"unknown",repo:t[1]||"unknown"}}catch{return{owner:"unknown",repo:"unknown"}}}(t),l={library:"library",application:"tech",tool:"tool",framework:"library",other:"other"}[a.projectType]||"other";return{id:o,title:a.title,description:a.description,content:a.description,template:r,createdAt:new Date,repoUrl:t,githubUrl:t,generatedMarkdown:n,sections:[],features:a.features,techStack:a.techStack,projectType:l,primaryColor:i,owner:s,repo:c,tier:"premium"}}var t=atob("c2stb3ItdjEtYWVnbnQtNHNpdGVwcm8tZnJlZS1vbmx5LWtleQ=="),n="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",a=[{id:"mistralai/mistral-small-3.2-24b-instruct:free",name:"Mistral Small 3.2 24B",tier:"free",priority:1,strengths:["code-analysis","technical-content","problem-solving"],maxTokens:96e3,costPerRequest:0},{id:"deepseek/deepseek-r1-0528:free",name:"DeepSeek R1 0528",tier:"free",priority:2,strengths:["reasoning","chain-of-thought","problem-solving"],maxTokens:163840,costPerRequest:0},{id:"deepseek/deepseek-r1-0528-qwen3-8b:free",name:"DeepSeek R1 Qwen3 8B",tier:"free",priority:3,strengths:["math","programming","logic"],maxTokens:131072,costPerRequest:0},{id:"moonshotai/kimi-dev-72b:free",name:"Kimi Dev 72B",tier:"free",priority:4,strengths:["software-engineering","bug-fixing","code-reasoning"],maxTokens:131072,costPerRequest:0},{id:"sarvamai/sarvam-m:free",name:"Sarvam-M",tier:"free",priority:5,strengths:["multilingual","reasoning","general-purpose"],maxTokens:32768,costPerRequest:0}],o=[{id:"anthropic/claude-4-opus",name:"Claude 4 Opus",tier:"pro",priority:1,strengths:["advanced-reasoning","complex-analysis","quality"],maxTokens:2e5,costPerRequest:.15},{id:"openai/gpt-5-turbo",name:"GPT-5 Turbo",tier:"pro",priority:2,strengths:["creative-writing","web-development","innovation"],maxTokens:128e3,costPerRequest:.12},{id:"deepseek/deepseek-r1.1-pro",name:"DeepSeek R1.1 Pro",tier:"pro",priority:3,strengths:["code-generation","technical-precision","optimization"],maxTokens:32768,costPerRequest:.08}],r=a[0].id;var i=async(i,s)=>{const c=n,l=c!==t,p=i.replace(/^https?:\/\//,"").split("/");if(p.length<3)throw new Error("Invalid GitHub URL format. Expected: https://github.com/owner/repo");const u=p[1],d=p[2];if(l)try{const s=await async function(e,i,s){const c=i||n,l=c===t,p=a.map(e=>e.id),u=l?s&&p.includes(s)?s:r:s||o[0].id;if("PLACEHOLDER_API_KEY"===c)throw new Error("OpenRouter API key not provided. Please enter your OpenRouter API key to generate AI-powered sites.");const d=e.replace(/^https?:\/\/github\.com\//,"").split("/"),m=d[0],h=d[1],g=`https://api.github.com/repos/${m}/${h}/readme`,f=await fetch(g);if(!f.ok)throw new Error(`Failed to fetch README: ${f.statusText}`);const w=await f.json(),y=atob(w.content),b=`https://api.github.com/repos/${m}/${h}`,[k,v,$]=await Promise.allSettled([fetch(b),fetch(`${b}/languages`),fetch(`${b}/contents`)]);let T=null,S=null,P=null;"fulfilled"===k.status&&k.value.ok&&(T=await k.value.json()),"fulfilled"===v.status&&v.value.ok&&(S=await v.value.json()),"fulfilled"===$.status&&$.value.ok&&(P=await $.value.json());const R=`Perform comprehensive repository analysis and generate a professional website. This is NOT just a README converter - analyze the entire repository structure, technology stack, and codebase patterns:\n\nREPOSITORY DATA:\n- Repository: ${m}/${h}\n- URL: ${e}\n- Description: ${T?.description||"No description"}\n- Stars: ${T?.stargazers_count||0}\n- Forks: ${T?.forks_count||0}\n- Language: ${T?.language||"Unknown"}\n- Created: ${T?.created_at||"Unknown"}\n- Last Updated: ${T?.updated_at||"Unknown"}\n- Topics: ${T?.topics?.join(", ")||"None"}\n- Homepage: ${T?.homepage||"None"}\n\nTECHNOLOGY STACK:\n${S?Object.entries(S).map(([e,t])=>`- ${e}: ${Math.round(t/1e3)}KB`).join("\n"):"Languages data not available"}\n\nREPOSITORY STRUCTURE:\n${P?P.slice(0,20).map(e=>`- ${e.name} (${e.type})`).join("\n"):"Structure data not available"}\n\nREADME CONTENT:\n${y}\n\n1. **Complete Technology Analysis** - Not just what's in the README, but actual codebase patterns, architecture decisions, and technical implementation\n2. **Professional Project Presentation** - Enterprise-grade documentation and feature showcase\n3. **Comprehensive Feature Extraction** - Based on both documentation and actual code structure\n4. **Deployment and Integration Guides** - Practical implementation information\n5. **Architecture and Dependencies** - Technical depth that showcases the full project scope\n\nPlease analyze this and provide a JSON response with:\n{\n  "metadata": {\n    "title": "Project title",\n    "description": "Brief description for hero section", \n    "projectType": "library|application|tool|framework|other",\n    "primaryLanguage": "Main programming language",\n    "features": ["Feature 1", "Feature 2", "Feature 3"],\n    "techStack": ["Technology 1", "Technology 2"],\n    "targetAudience": ["developers", "businesses", etc],\n    "useCases": ["Use case 1", "Use case 2"],\n    "primaryColor": "#hexcolor"\n  },\n  "markdown": "Enhanced markdown content for the site"\n}\n\nFocus on:\n1. Extract key features and benefits\n2. Identify technology stack\n3. Create compelling description\n4. Generate appropriate color based on the project\n5. Ensure the content is engaging and informative\n\nRespond with ONLY the JSON, no other text.`,E=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json","HTTP-Referer":"https://4site.pro","X-Title":"4site.pro - Living Websites That Update Themselves"},body:JSON.stringify({model:u,messages:[{role:"user",content:R}],temperature:.6,max_tokens:4e3,presence_penalty:.1,frequency_penalty:.1})});if(!E.ok){const e=await E.text();throw new Error(`4site.pro AI Service error: ${E.status} - ${e}`)}const j=await E.json(),C=j.choices[0]?.message?.content;if(!C)throw new Error("No response from 4site.pro AI Service");try{const e=JSON.parse(C);return{markdown:e.markdown,metadata:e.metadata,generatedAt:new Date,aiModel:u,confidence:.95}}catch(A){throw new Error("Invalid response from AI service")}}(i,c),l=e(s,i);return l.owner=u,l.repo=d,l.repoUrl=i,l}catch(m){}return await async function(e){const t=e.replace(/^https?:\/\/github\.com\//,"").split("/"),n=t[0],a=t[1],o=`https://api.github.com/repos/${n}/${a}`,[r,i,s]=await Promise.allSettled([fetch(o),fetch(`${o}/languages`),fetch(`${o}/readme`)]);let c=null,l=null,p="";"fulfilled"===r.status&&r.value.ok&&(c=await r.value.json());"fulfilled"===i.status&&i.value.ok&&(l=await i.value.json());if("fulfilled"===s.status&&s.value.ok){const e=await s.value.json();p=atob(e.content)}if(!c)throw new Error("Repository not found or is private");const u=l?Object.keys(l):["Unknown"],d=c.language||u[0]||"Unknown",m={JavaScript:"#f7df1e",TypeScript:"#3178c6",Python:"#3776ab",Java:"#007396","C++":"#00599c","C#":"#239120",Go:"#00add8",Rust:"#ce422b",PHP:"#777bb4",Ruby:"#cc342d",Swift:"#fa7343",Kotlin:"#7f52ff",Scala:"#dc322f",Dart:"#0175c2",HTML:"#e34f26",CSS:"#1572b6",Vue:"#4fc08d",React:"#61dafb",Angular:"#dd0031"}[d]||"#ffd700",h=c.description||`${d} project by ${n}`;let g="application";a.toLowerCase();const f=h.toLowerCase();f.includes("library")||f.includes("package")||f.includes("module")?g="library":f.includes("tool")||f.includes("cli")||f.includes("utility")?g="tool":(f.includes("framework")||f.includes("boilerplate"))&&(g="framework");const w=function(e,t){const n=[],a=[/(?:^|\n)[-*+]\s+(.+)$/gm,/(?:^|\n)##?\s*Features?\s*\n([\s\S]*?)(?:\n##|$)/i,/(?:^|\n)##?\s*What it does\s*\n([\s\S]*?)(?:\n##|$)/i];for(const o of a){const t=e.match(o);t&&t.forEach(e=>{const t=e.replace(/^[-*+#\s]+/,"").trim();t.length>10&&t.length<100&&n.push(t)})}0===n.length&&(t.language&&n.push(`${t.language} implementation`),t.stargazers_count>100&&n.push("Community-driven development"),t.topics&&t.topics.length>0&&t.topics.slice(0,3).forEach(e=>{n.push(`${e.charAt(0).toUpperCase()+e.slice(1)} integration`)}),0===n.length&&n.push("Professional software solution"));return n.slice(0,6)}(p,c),y=function(e,t){const n=[];switch(e){case"library":n.push("Integration in larger applications","Code reusability","Development acceleration");break;case"tool":n.push("Development workflow optimization","Automation tasks","Productivity enhancement");break;case"framework":n.push("Rapid application development","Standardized architecture","Best practices implementation");break;default:n.push("Production deployment","Development projects","Learning and education")}const a={JavaScript:["Web development","Frontend applications"],TypeScript:["Type-safe development","Large-scale applications"],Python:["Data science","Machine learning","Automation"],Java:["Enterprise applications","Backend services"],React:["User interface development","Component-based architecture"],Vue:["Progressive web applications","Frontend frameworks"],Go:["Microservices","Cloud native applications"],Rust:["System programming","Performance-critical applications"]};a[t]&&n.push(...a[t]);return[...new Set(n)].slice(0,4)}(g,d),b=function(e,t,n){const a=e.name||"Project",o=e.description||"Professional software project";return`# ${a}\n\n${o}\n\n## Overview\n\n${a} is a ${e.language||"software"} project that provides professional-grade functionality for developers and technical teams.\n\n${t?"## Documentation\n\n"+t.substring(0,2e3)+(t.length>2e3?"...\n\n[View full documentation on GitHub](https://github.com/"+e.full_name+")":""):""}\n\n## Key Features\n\n${n.map(e=>`- ${e}`).join("\n")}\n\n## Technical Details\n\n- **Primary Language**: ${e.language||"Unknown"}\n- **Repository**: [${e.full_name}](https://github.com/${e.full_name})\n- **Stars**: ${e.stargazers_count||0}\n- **Forks**: ${e.forks_count||0}\n- **Created**: ${e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown"}\n- **Last Updated**: ${e.updated_at?new Date(e.updated_at).toLocaleDateString():"Unknown"}\n\n${e.topics&&e.topics.length>0?`## Topics\n\n${e.topics.map(e=>`\`${e}\``).join(" ")}`:""}\n\n${e.homepage?`## Live Demo\n\n[View Live Demo](${e.homepage})`:""}\n\n## Getting Started\n\nVisit the [GitHub repository](https://github.com/${e.full_name}) for installation instructions, documentation, and contribution guidelines.\n\n---\n\n*This professional website was generated automatically from the GitHub repository using 4site.pro - Living Websites That Update Themselves*`}(c,p,w),k={title:c.name||a,description:h,content:b,features:w,techStack:u,projectType:g,primaryLanguage:d,targetAudience:["developers","engineers","tech professionals"],useCases:y,primaryColor:m,owner:n,repo:a,repoUrl:e,stars:c.stargazers_count||0,forks:c.forks_count||0,language:d,topics:c.topics||[],homepage:c.homepage||"",createdAt:c.created_at||"",updatedAt:c.updated_at||"",generatedAt:new Date,aiGenerated:!1};return k}(i)};export{i as g};
